<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PyChamp - Learn Python Through Interactive Challenges</title>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js"></script>
</head>
<body>
    <!-- Splash Screen -->
    <div id="splash-screen" class="view-container">
        <div class="splash-inner">
            <div class="brand">PyChamp</div>
            <div class="tagline">Learn Python Through Interactive Challenges!</div>
            <div class="overall-progress">
                <div id="progress-text">0/6 levels completed (0%)</div>
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill" style="width: 0%;"></div>
                </div>
            </div>
            <div class="splash-buttons">
                <button id="start-game-btn" class="btn btn-primary">üöÄ Start Game</button>
                <button id="how-to-play-btn" class="btn btn-secondary">‚ùì How to Play</button>
                <button id="reset-progress-btn" class="btn btn-warning">üîÑ Reset Progress</button>
            </div>
        </div>
    </div>

    <!-- Level Map -->
    <div id="level-map" class="view-container hidden">
        <div class="panel">
            <div class="panel-header">
                <h3>üó∫Ô∏è Level Map</h3>
            </div>
            <div class="panel-body">
                <div id="level-map-grid" class="level-map-grid"></div>
            </div>
            <div class="panel-footer">
                <button id="level-map-to-menu-btn" class="btn btn-secondary">üè† Back to Menu</button>
            </div>
        </div>
    </div>

    <!-- Gameplay View -->
    <div id="gameplay" class="view-container hidden">
        <div class="panel">
            <div class="panel-header">
                <h3 id="level-title" class="level-title">Level 1</h3>
                <div class="panel-actions">
                    <button id="hint-btn" class="btn btn-secondary">üí° Hint</button>
                    <button id="back-to-menu-btn" class="btn btn-warning">üè† Menu</button>
                </div>
            </div>
            <div class="panel-body">
                <div class="gameplay-layout">
                    <!-- Scene and Dialogue Row -->
                    <div class="gameplay-row">
                        <div class="panel scene-panel">
                            <div class="panel-header">
                                <h3>üé≠ Scene</h3>
                            </div>
                            <div class="panel-body">
                                <div id="scene-container" class="scene-container"></div>
                            </div>
                        </div>
                        <div class="panel dialogue-panel">
                            <div class="panel-header">
                                <h3>üí¨ Guide</h3>
                            </div>
                            <div class="panel-body">
                                <div id="npc-dialogue" class="dialogue-content"></div>
                                <div id="instructions" class="instructions-content"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Editor and Console Row -->
                    <div class="gameplay-row">
                        <div class="panel editor-panel">
                            <div class="panel-header">
                                <h3>üìù Code Editor</h3>
                                <div class="panel-actions">
                                    <button id="run-btn" class="btn btn-primary">‚ñ∂Ô∏è Run</button>
                                </div>
                            </div>
                            <div class="panel-body">
                                <div id="editor-container" class="editor-container"></div>
                            </div>
                        </div>
                        <div class="panel console-panel">
                            <div class="panel-header">
                                <h3>üìä Console</h3>
                            </div>
                            <div class="panel-body">
                                <div id="console-output" class="console-output"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- How to Play -->
    <div id="how-to-play" class="view-container hidden">
        <div class="panel">
            <div class="panel-header">
                <h3>‚ùì How to Play</h3>
                <button id="howto-back-btn" class="btn btn-secondary">üè† Back</button>
            </div>
            <div class="panel-body">
                <div class="howto-content">
                    <h4>üéØ Your Mission</h4>
                    <p>Learn Python by solving interactive coding challenges. Each level teaches new concepts!</p>
                    
                    <h4>üéÆ How to Play</h4>
                    <ol>
                        <li>Read the challenge instructions</li>
                        <li>Write Python code in the editor</li>
                        <li>Click "Run" to test your code</li>
                        <li>Use hints if you get stuck</li>
                    </ol>
                    
                    <h4>‚≠ê Scoring</h4>
                    <p>‚≠ê‚≠ê‚≠ê Perfect (No hints) | ‚≠ê‚≠ê‚òÜ Great (1-2 hints) | ‚≠ê‚òÜ‚òÜ Good (3+ hints)</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts in correct order -->
    <script src="scripts/svg-assets.js"></script>
    <script src="scripts/game-levels.js"></script>
    <script src="scripts/pyodide-runner.js"></script>
    <script src="scripts/editor.js"></script>
    <script src="scripts/ui.js"></script>
    <script src="scripts/main.js"></script>
    <script src="scripts/levelManager.js"></script>
</body>
</html>